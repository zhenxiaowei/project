!function(a){"use strict";var t={cntClass:"map",mapClass:"map_model",locationsClass:"map_locations",marker:{basic:"images/gmap_marker.png",active:"images/gmap_marker_active.png"},styles:[]},o={map:{x:-73.9924068,y:40.646197,zoom:14},locations:[]},e=function(t,o){var e=t.parent().find("."+o.locationsClass).find("li"),n=[];return e.length>0&&e.each(function(t){var e=a(this);e.data("x")&&e.data("y")&&(n[t]={x:e.data("x"),y:e.data("y"),basic:e.data("basic")?e.data("basic"):o.marker.basic,active:e.data("active")?e.data("active"):o.marker.active},a.trim(e.html())?n[t].content='<div class="iw-content">'+e.html()+"</div>":n[t].content=!1)}),n};a.fn.googleMap=function(n){n=a.extend(!0,{},t,n),a(this).each(function(){var t=a(this),s=a.extend(!0,{},o,{map:{x:t.data("x"),y:t.data("y"),zoom:t.data("zoom")},locations:e(t,n)}),i=new google.maps.Map(this,{center:new google.maps.LatLng(parseFloat(s.map.y),parseFloat(s.map.x)),scrollwheel:!1,styles:n.styles,zoom:s.map.zoom}),c=new google.maps.InfoWindow,l=[];for(var r in s.locations)l[r]=new google.maps.Marker({position:new google.maps.LatLng(parseFloat(s.locations[r].y),parseFloat(s.locations[r].x)),map:i,icon:s.locations[r].basic,index:r}),s.locations[r].content&&(google.maps.event.addListener(l[r],"click",function(){for(var t in l)l[t].setIcon(s.locations[t].basic);c.setContent(s.locations[this.index].content),c.open(i,this),a(".gm-style-iw").parent().parent().addClass("gm-wrapper"),this.setIcon(s.locations[this.index].active)}),google.maps.event.addListener(c,"closeclick",function(){for(var a in l)l[a].setIcon(s.locations[a].basic)}));google.maps.event.addDomListener(window,"resize",function(){i.setCenter(new google.maps.LatLng(parseFloat(s.map.y),parseFloat(s.map.x)))})})}}(jQuery);