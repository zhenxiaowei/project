!function(i){var t=function(t,e){this.options=e,this.settings={imageClass:"parallax_image",patternClass:"parallax_pattern",contentClass:"parallax_cnt",wrapClass:"parallax"},this.$wrap=i(t),this.$image=i.noop()};t.prototype={init:function(){var i=this;i.isInit=!0,i.createDOM(),i.blur(),i.createListeners()},createDOM:function(){var t=this;t.$wrap.addClass(t.settings.wrapClass).wrapInner(i("<div/>",{"class":t.settings.contentClass})).prepend(i("<div/>",{"class":t.options.pattern?t.settings.patternClass:t.settings.imageClass}).css({"background-image":"url("+t.options.url+")","background-color":t.options.color})),t.$image=t.options.pattern?t.$wrap.find("."+t.settings.patternClass):t.$wrap.find("."+t.settings.imageClass)},createListeners:function(){this.createResizeListener(),this.createScrollListener()},createScrollListener:function(){var t=this;t.isMobile()&&!t.options.mobile||(i(window).bind("touchstart",function(){t.isTouched=!0}),i(window).bind("touchend",function(){t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t.isTouched=!1},1200)}),i(window).bind("scroll",function(){t.move()}),t.move())},createResizeListener:function(){var t=this;t.isMobile()&&!t.options.mobile||(t.isMobile()||i(window).bind("resize",function(){t.resize()}),i(window).bind("orientationchange",function(){setTimeout(function(){t.resize()},300)}),t.resize())},move:function(){var t=this;if(t.isVisible()&&(!t.isMobile()||t.options.mobile)){var e=i(window).scrollTop(),n=t.$wrap.offset().top,o=i(window).height(),a=t.$wrap.outerHeight(),r=t.$image.height(),s=t.options.speed;0>s&&(s=0),s>1&&(s=1);var l=(e-(n-o))/(n+a-(n-o))*s;if("normal"==t.options.direction)var c=l*(a-r);else var c=(1-l)*(a-r);t.isIE()&&t.ieVersion()<=10?t.$image.css("top",""+c+"px"):t.isMobile()&&t.options.mobile?(t.isTouched||t.isInit)&&(t.$image.stop().animate({pos:c},{step:function(t){i(this).css("transform","translate3d(0, "+t+"px, 0)")},duration:t.options.duration},t.options.easing),t.isInit=!1):t.$image.css("transform","translate3d(0, "+c+"px, 0)"),t.isFirefox()&&window.devicePixelRatio<1&&(t.$image.css("background-color","#010101"),setTimeout(function(){t.$image.css("background-color",t.options.color)},10))}},resize:function(){var t=this,e=Math.max(i(window).height(),500);e<t.$wrap.outerHeight()&&(e=t.$wrap.outerHeight()+i(window).height()*t.options.speed),t.$image.height(e),setTimeout(function(){t.move(),t.blur()},300)},blur:function(){var t=this;!t.options.blur||t.isIE()||t.options.pattern||i("<img/>",{src:t.options.url}).load(function(){var i=t.$image.height()/this.height,e=t.$image.width()/this.width,n=Math.floor(Math.max(i,e));n>2?t.$image.css({filter:"blur("+n+"px)","-webkit-filter":"blur("+n+"px)"}):t.$image.css({filter:"blur(0px)","-webkit-filter":"blur(0px)"})})},isVisible:function(){var t=this,e=i(window).scrollTop(),n=i(window).height(),o=t.$wrap.offset().top,a=t.$wrap.outerHeight();return o+a>=e&&e+n>=o},isIE:function(){return-1!=navigator.appVersion.indexOf("MSIE")},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},ieVersion:function(){return parseFloat(navigator.appVersion.split("MSIE")[1])},isFirefox:function(){return"undefined"!=typeof InstallTrigger}},i.fn.rdparallax=function(e){var n=this.each(function(){var n=i.extend({},i.fn.rdparallax.defaults,e);n.url?new t(this,n).init():console.error("RD Parallax: data-url is not defined")});return n},i.fn.rdparallax.defaults={speed:.4,direction:"normal",blur:!1,mobile:!1,url:!1,pattern:!1,duration:200,easing:"linear",color:"inherit"},window.RDParallax_autoinit=function(e){i(e).each(function(){var e=i.extend({},i.fn.rdparallax.defaults,{url:i(this).data("url"),speed:i(this).data("speed"),direction:i(this).data("direction"),blur:i(this).data("blur"),mobile:i(this).data("mobile"),pattern:i(this).data("pattern"),color:i(this).data("color")});e.url?new t(this,e).init():console.error("RD Parallax: data-url is not defined")})}}(jQuery),$(document).ready(function(){RDParallax_autoinit(".parallax")});