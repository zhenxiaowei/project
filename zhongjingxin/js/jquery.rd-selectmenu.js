(function(){!function(e,t,n){var o,s;return s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=function(){function o(o,s){this.options=e.extend(!0,{},this.Defaults,s),this.$element=e(o),this.$wrap=this.$element.wrap('<div class="rd-select"></div>').parent(),this.$pseudoValue=null,this.$pseudoOptions=null,this.$win=e(n),this.$doc=e(t),this.initialize()}return o.prototype.Defaults={valueIconClass:"rd-select-value-icon fa-angle-down",callbacks:null},o.prototype.initialize=function(){var e;return e=this,e.hideOriginalDOM(),e.createPseudoDOM(),e.applyHandlers(),e},o.prototype.createPseudoDOM=function(){var t;return t=this,t.$pseudoValue=e("<div/>",{"class":"rd-select-trigger "+t.$element.get(0).className}).append('<span class="rd-select-value">'+t.$element.find("option:selected").text()+"</span>").append('<span class="'+t.options.valueIconClass+'"></span>'),t.$pseudoOptions=e("<ul/>",{"class":"rd-select-menu"}),t.$element.find("option").each(function(){var n;return n=e(this),t.$pseudoOptions.append(e("<li/>",{"class":"rd-select-option",text:n.text()}).addClass(n.is(":selected")?"selected":!1))}),t.$wrap.append(t.$pseudoValue).append(t.$pseudoOptions),t},o.prototype.hideOriginalDOM=function(){var e;return e=this,e.$element.css({position:"absolute",margin:0,padding:0,top:0,left:0,width:s?"100%":0,height:s?"100%":0,border:"none",overflow:"hidden",opacity:0,"z-index":s?9999999:-9999999}),e},o.prototype.open=function(){var e;return e=this,e.$wrap.addClass("rd-select-open"),e.$element.is(":focus")||e.$element.focus(),e},o.prototype.close=function(){var e;return e=this,e.$wrap.removeClass("rd-select-open"),e},o.prototype.change=function(t,n){var o;return o=e(this),t.$element.val(o.text()).trigger("change").trigger("propertychange").focus(),"click"===n.type&&e.proxy(t.close,t)(),this},o.prototype.originalChange=function(){return this.$pseudoValue.find(".rd-select-value").text(this.$element.val()),this.$pseudoOptions.find(".rd-select-option").eq(this.$element.find("option:selected").index()).addClass("selected").siblings().removeClass("selected"),this},o.prototype.keyDown=function(t){var n,o;switch(t.keyCode){case 32:case 37:case 39:t.preventDefault();break;case 38:t.preventDefault(),o=this.$pseudoOptions.find(".rd-select-option.selected").prev(),o.length&&e.proxy(this.change,o[0],this)(t);break;case 40:t.preventDefault(),n=this.$pseudoOptions.find(".rd-select-option.selected").next(),n.length&&e.proxy(this.change,n[0],this)(t);break;case 13:t.preventDefault(),this.$wrap.hasClass("rd-select-open")?e.proxy(this.close,this)():e.proxy(this.open,this)()}},o.prototype.applyHandlers=function(){var t;return t=this,s||(t.$element.on("focus",e.proxy(t.open,t)),t.$doc.find("*").on("focus",function(n){var o;return o=n.target,o===t.$element[0]||e(o).parents(".rd-select-menu").length?void 0:e.proxy(t.close,t)()}),t.$element.on("keydown",e.proxy(t.keyDown,t)),t.$pseudoValue.on("click",e.proxy(t.open,t)),t.$pseudoOptions.find("li").each(function(){var n;return n=e(this),n.on("click",e.proxy(t.change,this,t))}),t.$doc.on("click",function(n){var o;return o=n.target,o===t.$wrap[0]||e(o).parents(".rd-select").length?void 0:e.proxy(t.close,t)()})),t.$element.on("change propertychange",e.proxy(t.originalChange,t)),t},o}(),e.fn.extend({RDSelectMenu:function(t){return this.each(function(){var n;return n=e(this),n.data("RDSelectMenu")?void 0:n.data("RDSelectMenu",new o(this,t))})}}),n.RDSelectMenu=o}(window.jQuery,document,window),"undefined"!=typeof module&&null!==module?module.exports=window.RDSelectMenu:"function"==typeof define&&define.amd&&define(["jquery"],function(){"use strict";return window.RDSelectMenu})}).call(this);